# ๐ NanoCoin - Telegram Web App Game

**ูุณุฎู 2.0** - ูุนูุงุฑ ุจุงุฒุณุงุฒ ุดุฏู ุจุง Telegram Web App

ฺฉ ุจุงุฒ ฺฉุงูู Clicker/Mining ุจุฑุง ุชูฺฏุฑุงู ุจุง ุฑุงุจุท ฺฉุงุฑุจุฑ ฺฏุฑุงูฺฉ ู ูุนูุงุฑ ูุฏุฑู.

---

## โก๏ธ ุชุบุฑุงุช ูุณุฎู 2.0

### ๐ฎ ุงุฒ Bot ุจู Web App

ุงู ูพุฑูฺู ุจู ุทูุฑ ฺฉุงูู ุงุฒ ฺฉ **ุฑุจุงุช ุณูุช ุชูฺฏุฑุงู** ุจู **Telegram Web App** ุจุงุฒุณุงุฒ ุดุฏู ุงุณุช:

- โ **ุฑุงุจุท ฺฉุงุฑุจุฑ ฺฏุฑุงูฺฉ** - UI ุฒุจุง ู ฺฉุงุฑุจุฑุฏ
- โ **ูุนูุงุฑ ุฌุฏุงฺฏุงูู** - Backend (FastAPI) + Frontend (Web App) + Bot (Launcher)
- โ **ุงุญุฑุงุฒ ููุช ุงูู** - Telegram WebApp initData validation
- โ **ุจููู ุจุฑุง ููุจุงู** - ุทุฑุงุญ Mobile-first
- โ **ููุงุณโูพุฐุฑ** - RESTful API ู ุจุฏูู ูุงุจุณุชฺฏ ุจู bot

---

## ๐ ูฺฺฏโูุง

### ๐ฏ ุณุณุชูโูุง ุจุงุฒ

- โ **ฺฉูฺฉ ู ุฌูุนโุขูุฑ** - ุณฺฉู ู ุงููุงุณ ุจุง ุงููุดู
- โ **ุณุณุชู ูุงููฺฏ** - ุงุณุชุฎุฑุงุฌ ุฎูุฏฺฉุงุฑ ุจุง ูุงูุฑูุง
- โ **ุงูุฑฺ ู ุจุฑู** - ูุฏุฑุช ููุงุจุน
- โ **ุณุณุชู ุณุทุญ** - Level up ุจุง XP
- โ **ูุฑูุดฺฏุงู** - ุฎุฑุฏ ุขุชูโูุง ู ูุงูุฑูุง
- โ **ฺฉู ุงุดุงุก** - ูุฏุฑุช ุงููุงู ุฎุฑุฏุงุฑ ุดุฏู
- โ **ุฌุฏูู ุงูุชุงุฒุงุช** - ุฑูุงุจุช ุจุง ุจุงุฒฺฉูุงู
- โ **ุฌุงุฒู ุฑูุฒุงูู** - ูพุงุฏุงุด ุจุฑุง ูุฑูุฏ ุฑูุฒุงูู
- โ **ุจูุณุชโูุง** - ุงูุฒุงุด ุณุฑุนุช ฺฉูฺฉ

### ๐ง ูฺฺฏโูุง ูู

- โ **FastAPI Backend** - API ุณุฑุน ู ูุฏุฑู
- โ **SQLAlchemy ORM** - ูพุดุชุจุงู ุงุฒ SQLite ู PostgreSQL
- โ **Telegram WebApp Auth** - ุงุญุฑุงุฒ ููุช ุงูู ุจุง HMAC-SHA256
- โ **Responsive Design** - ุณุงุฒฺฏุงุฑ ุจุง ููู ุฏุณุชฺฏุงูโูุง
- โ **Real-time Updates** - ุจูโุฑูุฒุฑุณุงู ูุญุธูโุง
- โ **Haptic Feedback** - ุจุงุฒุฎูุฑุฏ ููุณ

---

## ๐ ูุนูุงุฑ ูพุฑูฺู

```
โโโโโโโโโโโโโโโโโโโโโโโ
โ   Telegram Bot      โ  
โ   (bot/main.py)     โ  โ ููุท ุฏฺฉูู "ุจุงุฒ ฺฉู"
โโโโโโโโโโโโฌโโโโโโโโโโโ
           โ Opens Web App
           โ
โโโโโโโโโโโโโโโโโโโโโโโ
โ   Web App (UI)      โ
โ   (webapp/)         โ  โ ุฑุงุจุท ฺฉุงุฑุจุฑ ฺฏุฑุงูฺฉ
โโโโโโโโโโโโฌโโโโโโโโโโโ
           โ API Calls (HTTPS)
           โ
โโโโโโโโโโโโโโโโโโโโโโโ
โ  FastAPI Backend    โ
โ  (backend/)         โ  โ ููุทู ุจุงุฒ ู ุฏุชุงุจุณ
โโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ ุณุงุฎุชุงุฑ ูุงูโูุง

```
NanoCoin_bot/
โโโ bot/                    # ๐ค ุฑุจุงุช ุชูฺฏุฑุงู (ููุท launcher)
โ   โโโ main.py
โโโ backend/                # ๐ง Backend API
โ   โโโ main.py            # FastAPI app
โ   โโโ auth.py            # ุงุญุฑุงุฒ ููุช
โ   โโโ config.py          # ุชูุธูุงุช
โ   โโโ routers/           # API endpoints
โ   โโโ services/          # ููุทู ุจุงุฒ
โ   โโโ schemas/           # ูุฏูโูุง Pydantic
โโโ webapp/                 # ๐ฎ Frontend (Web App)
โ   โโโ index.html         # ุฑุงุจุท ฺฉุงุฑุจุฑ
โ   โโโ css/styles.css
โ   โโโ js/
โ       โโโ app.js
โ       โโโ api.js
โ       โโโ game.js
โ       โโโ shop.js
โโโ database/              # ๐พ ุฏุชุงุจุณ
โโโ jobs/                  # โฐ ฺฉุงุฑูุง ูพุณโุฒููู
โโโ config.py              # ุชูุธูุงุช ูุดุชุฑฺฉ
```

---

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง

- Python 3.10+
- pip
- ฺฉ ุฑุจุงุช ุชูฺฏุฑุงู (ุงุฒ [@BotFather](https://t.me/BotFather))

### 1๏ธโฃ ูุตุจ ฺฉุชุงุจุฎุงููโูุง

```bash
pip install -r requirements.txt
```

### 2๏ธโฃ ุชูุธูุงุช ูุญุท

```bash
cp .env.example .env
```

ูุงู `.env` ุฑุง ูุฑุงุด ฺฉูุฏ:

```bash
# ุชูฺฉู ุฑุจุงุช ุงุฒ BotFather
BOT_TOKEN=your_bot_token_here

# ุขุฏ ุงุฏููโูุง (ุจุง ฺฉุงูุง ุฌุฏุง ุดููุฏ)
ADMIN_IDS=123456789,987654321

# ุฏุชุงุจุณ (SQLite ุง PostgreSQL)
DATABASE_URL=sqlite:///nanocoin.db

# ุขุฏุฑุณ Web App (ููู!)
WEBAPP_URL=http://localhost:8000/webapp

# ุจุฑุง production:
# WEBAPP_URL=https://yourdomain.com/webapp
```

### 3๏ธโฃ ุงุฌุฑุง (Development)

**ุชุฑููุงู 1 - Backend API:**
```bash
python -m backend.main
```

**ุชุฑููุงู 2 - Telegram Bot:**
```bash
python -m bot.main
```

### 4๏ธโฃ ุชุณุช

1. ุฏุฑ ุชูฺฏุฑุงู `/start` ุฑุง ุจู ุฑุจุงุช ุจูุฑุณุชุฏ
2. ุฏฺฉูู "๐ฎ ุจุงุฒ ฺฉู!" ุฑุง ุจุฒูุฏ
3. ุจุงุฒ ุฏุฑ Web App ุจุงุฒ ูโุดูุฏ!

---

## ๐ ุงุณุชูุฑุงุฑ (Production)

### ฺฏุฒูู 1: ุจุง Docker

```bash
docker-compose up -d
```

### ฺฏุฒูู 2: ุฑู VPS

```bash
# ุจุง systemd
sudo systemctl enable nanocoin-api
sudo systemctl enable nanocoin-bot
sudo systemctl start nanocoin-api
sudo systemctl start nanocoin-bot
```

### ฺฏุฒูู 3: Render / Railway / Heroku

1. Repository ุฑุง Push ฺฉูุฏ
2. ุณุฑูุณ Web ุฑุง ูุชุตู ฺฉูุฏ
3. ูุชุบุฑูุง ูุญุท ุฑุง ุชูุธู ฺฉูุฏ
4. `WEBAPP_URL` ุฑุง ุจู ุขุฏุฑุณ ุฏุงููู ุฎูุฏ ุชุบุฑ ุฏูุฏ

**โ๏ธ ููู:** ูพุณ ุงุฒ deployุ ุญุชูุงู `WEBAPP_URL` ุฑุง ุฏุฑ `.env` ุจู ุขุฏุฑุณ ูุงูุน ุฎูุฏ ุชุบุฑ ุฏูุฏ!

---

## ๐ ุงููุช

### ุงุญุฑุงุฒ ููุช Telegram WebApp

ุงู ูพุฑูฺู ุงุฒ **Telegram WebApp Data Validation** ุงุณุชูุงุฏู ูโฺฉูุฏ:

- โ ุงุนุชุจุงุฑุณูุฌ HMAC-SHA256
- โ ูฺ ุงุทูุงุนุงุช ุงุฒ ุณูุช ฺฉูุงูุช ูุงุจู ุงุนุชูุงุฏ ูุณุช
- โ User ID ุงุฒ Telegram ฺฏุฑูุชู ูโุดูุฏ
- โ ุชูฺฉูโูุง 24 ุณุงุนุช ุงุนุชุจุงุฑ ุฏุงุฑูุฏ

### ฺฉุฏ ููููู

```python
@router.post("/api/game/click")
async def click(user: Dict = Depends(get_current_user)):
    # user['user_id'] ุจู ุทูุฑ ุงูู ุชุงุฏ ุดุฏู ุงุณุช
    # ููโุชูุงู ุขู ุฑุง ุฌุนู ฺฉุฑุฏ
```

---

## ๐ก API Documentation

ูพุณ ุงุฒ ุงุฌุฑุง backendุ ูุณุชูุฏุงุช API ุฏุฑ ุงูุฌุง ูุงุจู ุฏุณุชุฑุณ ุงุณุช:

- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

### ููููู Endpoints

```
GET  /api/user/profile        - ูพุฑููุงู ฺฉุงุฑุจุฑ
GET  /api/user/leaderboard    - ุฌุฏูู ุงูุชุงุฒุงุช
POST /api/game/click          - ฺฉูฺฉ
POST /api/game/mine           - ุฏุฑุงูุช ุณูุฏ ูุงููฺฏ
GET  /api/shop/items          - ูุณุช ุงููุงู ูุฑูุดฺฏุงู
POST /api/shop/buy            - ุฎุฑุฏ ุขุชู
```

---

## ๐ ุชูุณุนู

### ุงุถุงูู ฺฉุฑุฏู Feature ุฌุฏุฏ

1. **Backend:** ุงุฌุงุฏ Service ุฏุฑ `backend/services/`
2. **API:** ุงุฌุงุฏ Router ุฏุฑ `backend/routers/`
3. **Frontend:** ุงุถุงูู ฺฉุฑุฏู UI ุฏุฑ `webapp/`
4. **ุชุณุช:** ุขุฒูุงุด end-to-end

### ุณุงุฎุชุงุฑ ฺฉุฏ

- **Services** = ููุทู ุจุงุฒ (ุจุฏูู ูุงุจุณุชฺฏ ุจู FastAPI)
- **Routers** = API endpoints (ุงุณุชูุงุฏู ุงุฒ Services)
- **Schemas** = ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏ/ุฎุฑูุฌ ุจุง Pydantic

---

## ๐ ูุณุชูุฏุงุช

ูุณุชูุฏุงุช ฺฉุงูู refactoring:
- [๐ REFACTORING_GUIDE.md](./REFACTORING_GUIDE.md)

ุดุงูู:
- ูุนูุงุฑ ุฏูู
- ุฑุงูููุง deployment
- ุชูุถุญุงุช ุงููุช
- Troubleshooting
- ู ุจุดุชุฑ...

---

## ๐ ููุงุณู ุจุง ูุณุฎู ูุจู

| ูฺฺฏ | ูุณุฎู 1.0 (ูุฏู) | ูุณุฎู 2.0 (ุฌุฏุฏ) |
|-------|------------------|------------------|
| ุฑุงุจุท ฺฉุงุฑุจุฑ | ุฏฺฉููโูุง inline | Web App ฺฏุฑุงูฺฉ |
| ูุนูุงุฑ | Monolithic bot | Backend + Frontend |
| ุงุญุฑุงุฒ ููุช | User ID ุงุฒ update | Telegram WebApp validation |
| ููุงุณโูพุฐุฑ | ูุญุฏูุฏ | ุจุงูุง (API-based) |
| ุชุฌุฑุจู ฺฉุงุฑุจุฑ | ูุชู | Visual + Interactive |
| ุชูุณุนู | ููู ุฏุฑ handlers | ุฌุฏุงุณุงุฒ Concerns |

---

## ๐ ุฑูุน ูุดฺฉูุงุช

### Web App ุจุงุฒ ููโุดูุฏ
- `WEBAPP_URL` ุฑุง ฺฺฉ ฺฉูุฏ
- Backend ุฑุง ุงุฌุฑุง ฺฉูุฏ
- ุชูฺฉู ุฑุจุงุช ุฑุง ุจุฑุฑุณ ฺฉูุฏ

### ุฎุทุง Authentication
- `BOT_TOKEN` ุตุญุญ ุงุณุชุ
- Telegram WebApp SDK ุจุงุฑฺฏุฐุงุฑ ุดุฏุ
- Console browser ุฑุง ฺฺฉ ฺฉูุฏ

### ุฎุทุง API
- Backend ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุชุ
- CORS ุชูุธู ุดุฏูุ
- Network tab ุฑุง ุจุฑุฑุณ ฺฉูุฏ

---

## ๐ฏ Roadmap

- [x] Refactor ุจู Web App
- [x] Click system
- [x] Mining system
- [x] Shop & Inventory
- [x] Leaderboard
- [ ] Casino/Slots API
- [ ] Market (P2P) API
- [ ] Achievements API
- [ ] Quests API
- [ ] Admin Dashboard
- [ ] Analytics
- [ ] Multi-language support

---

## ๐ License

ุงู ูพุฑูฺู ุชุญุช MIT License ููุชุดุฑ ุดุฏู ุงุณุช.

---

## ๐จโ๐ป ุชูุณุนูโุฏููุฏู

ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ุจุฑุง ุฌุงูุนู ุชูฺฏุฑุงู

**ูุณุฎู:** 2.0.0  
**ูุนูุงุฑ:** Telegram Web App  
**ุชฺฉููููฺ:** Python, FastAPI, JavaScript, Telegram Bot API

---

## โญ๏ธ ุญูุงุช

ุงฺฏุฑ ุงู ูพุฑูฺู ููุฏ ุจูุฏุ ฺฉ ุณุชุงุฑู ุจุฏูุฏ! ๐

ุจุฑุง ุณูุงูุงุช ู ูุดฺฉูุงุชุ Issue ุจุงุฒ ฺฉูุฏ.
